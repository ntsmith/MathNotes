{% assign anc_count = include.ancestors | size | minus: 1 %}
{% assign ancestors = include.ancestors | slice: 0, anc_count %}
<nav class="sidebar">
  <ul class="sidebar-list">
    <li><a href="{{ site.url }}/">Home</a></li>
    {% for anc in ancestors %}
      {% assign clean_url = anc.url | remove: 'index.html' | remove: '.html' | split: '/' | where_exp: 'p', 'p != ""' | join: '/' %}
      <ul>
        <li><a href="{{ site.url }}/{{ clean_url }}">{{ anc.title }}</a></li>
    {% endfor %}

    <ul>
    {% for sib in include.siblings %}
      {% assign clean_url = sib.url | remove: 'index.html' | remove: '.html' | split: '/' | where_exp: 'p', 'p != ""' | join: '/' %}
      <li>
        <a href="{{ site.url }}/{{ clean_url }}">
          {% if sib.url == page.url %}
            <strong> {{ sib.title }}</strong>
          {% else %}
            {{ sib.title }}
          {% endif %}
        </a>
      </li>
    {% endfor %}
    </ul>

    {%- for i in (1..anc_count) -%}
      </li></ul>
    {%- endfor -%}
  </ul>
</nav>